<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web制作の見積もりで確認すべき5つのポイント | 株式会社ミアキス</title>
    <meta name="description" content="Web制作の見積もり、何を確認すれば良いかわからない…。埼玉県戸田市のWeb制作会社が、見積もりの「落とし穴」を避けるための5つのチェックポイントを実例とともに本音で解説します。">
    <meta property="og:title" content="Web制作の見積もりで確認すべき5つのポイント">
    <meta property="og:description" content="Web制作の見積もり、何を確認すれば良いかわからない…。埼玉県戸田市のWeb制作会社が、見積もりの「落とし穴」を避けるための5つのチェックポイントを実例とともに本音で解説します。">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://www.miakiss.co.jp/blog/2025-12-08-web-estimate-5-checkpoints.html">
    <meta property="og:image" content="https://www.miakiss.co.jp/blog/images/2025-12-08-web-estimate-5-checkpoints_thumbnail.jpg">
    <meta property="og:site_name" content="株式会社ミアキス">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Web制作の見積もりで確認すべき5つのポイント">
    <meta name="twitter:description" content="Web制作の見積もり、何を確認すれば良いかわからない…。埼玉県戸田市のWeb制作会社が、見積もりの「落とし穴」を避けるための5つのチェックポイントを実例とともに本音で解説します。">
    <meta name="twitter:image" content="https://www.miakiss.co.jp/blog/images/2025-12-08-web-estimate-5-checkpoints_thumbnail.jpg">
    <link rel="canonical" href="https://www.miakiss.co.jp/blog/2025-12-08-web-estimate-5-checkpoints.html">
    <link rel="icon" href="../image/icon.avif" type="image/avif">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../style.css">
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "Web制作の見積もりで確認すべき5つのポイント",
        "description": "Web制作の見積もり、何を確認すれば良いかわからない…。埼玉県戸田市のWeb制作会社が、見積もりの「落とし穴」を避けるための5つのチェックポイントを実例とともに本音で解説します。",
        "image": "https://www.miakiss.co.jp/blog/images/2025-12-08-web-estimate-5-checkpoints_thumbnail.jpg",
        "author": {
            "@type": "Organization",
            "name": "株式会社ミアキス"
        },
        "publisher": {
            "@type": "Organization",
            "name": "株式会社ミアキス",
            "logo": {
                "@type": "ImageObject",
                "url": "https://www.miakiss.co.jp/image/logo_v3.avif"
            }
        },
        "datePublished": "2025-12-08",
        "dateModified": "2025-12-08"
    }
    </script>
    <style>
        /* 記事本体のスタイル */
        .blog-article { 
            max-width: 900px; 
            margin: 0 auto; 
            padding: 40px 20px; 
        }
        
        /* ヘッダー画像 */
        .article-header-image {
            width: 100%;
            max-width: 100%;
            height: auto;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        /* 記事ヘッダー（タイトル・日付） */
        .article-header { 
            margin-bottom: 40px; 
        }
        
        .article-date { 
            display: block; 
            font-size: 0.9em; 
            color: #999; 
            margin-bottom: 15px; 
        }
        
        /* タイトルを左揃えに変更 */
        .article-title { 
            font-size: 2em; 
            color: #2c3e50;  /* より濃いグレー */
            line-height: 1.3; 
            margin-bottom: 20px; 
            text-align: left;  /* 中央→左揃え */
            font-weight: 700;
        }
        
        /* 目次スタイル */
        .article-toc {
            background: #f8f9fa;
            border-left: 4px solid #007bff;
            padding: 20px 25px;
            margin: 30px 0;
            border-radius: 8px;
        }
        
        .article-toc h3 {
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 1.2em;
            color: #2c3e50;
        }
        
        .article-toc ul {
            list-style: none;
            padding-left: 0;
            margin: 0;
        }
        
        .article-toc li {
            margin-bottom: 10px;
            padding-left: 20px;
            position: relative;
        }
        
        .article-toc li::before {
            content: "▸";
            position: absolute;
            left: 0;
            color: #007bff;
            font-weight: bold;
        }
        
        .article-toc a {
            color: #333;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        .article-toc a:hover {
            color: #007bff;
        }
        
        .article-toc li.active a {
            color: #007bff;
            font-weight: bold;
        }
        
        /* 記事本文 */
        .article-content { 
            line-height: 1.8;  /* 1.9 → 1.8 */
            color: #333; 
        }
        
        /* h2見出しのリデザイン */
        .article-content h2 { 
            font-size: 1.5em; 
            color: #2c3e50;
            margin-top: 50px; 
            margin-bottom: 20px; 
            padding: 15px 20px;
            border-left: 5px solid #007bff;  /* 左アクセントバー */
            background: #f8f9fa;
            border-radius: 4px;
        }
        
        .article-content h3 { 
            font-size: 1.2em; 
            color: #333; 
            margin-top: 30px; 
            margin-bottom: 15px; 
            padding-left: 12px;
            border-left: 3px solid #ccc;
        }
        
        .article-content p { 
            margin-bottom: 2em;  /* 1.5em → 2em */
            font-size: 1em; 
        }
        
        .article-content ul, .article-content ol { 
            margin: 20px 0; 
            padding-left: 30px; 
        }
        
        .article-content li { 
            margin-bottom: 12px; 
            line-height: 1.8; 
        }
        
        .article-content blockquote { 
            background-color: #f8f9fa; 
            border-left: 4px solid #007bff; 
            padding: 20px; 
            margin: 30px 0; 
            border-radius: 4px;
        }
        
        /* 強調色の変更（蛍光ペン風） */
        .article-content strong { 
            color: #2c3e50;  /* 青 → ダークグレー */
            font-weight: 700;
            background: linear-gradient(transparent 60%, #fff3cd 60%); /* 蛍光ペン風 */
            padding: 0 2px;
        }
        
        .article-content a {
            color: #007bff;
            text-decoration: underline;
            transition: color 0.3s ease;
        }
        
        .article-content a:hover {
            color: #0056b3;
        }
        
        /* CTAセクション */
        .article-cta { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
            color: #fff; 
            padding: 30px; 
            border-radius: 12px; 
            text-align: center; 
            margin: 50px 0; 
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .article-cta h3 { 
            font-size: 1.5em; 
            margin-bottom: 15px; 
            color: #fff; 
        }
        
        .article-cta p { 
            margin-bottom: 25px; 
            font-size: 1.1em; 
            color: #fff; 
        }
        
        .article-cta .btn { 
            display: inline-block; 
            background-color: #fff; 
            color: #667eea; 
            padding: 12px 35px; 
            border-radius: 50px; 
            font-weight: bold; 
            text-decoration: none; 
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }
        
        .article-cta .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }
        
        /* 関連記事セクション */
        .related-articles {
            margin-top: 60px;
            padding-top: 40px;
            border-top: 2px solid #eee;
        }
        
        .related-articles h3 {
            font-size: 1.5em;
            color: #2c3e50;
            margin-bottom: 25px;
            text-align: center;
        }
        
        .related-articles-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .related-article-item {
            background: #f8f9fa;
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .related-article-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .related-article-item a {
            text-decoration: none;
            color: inherit;
            display: block;
        }
        
        .related-article-thumbnail {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }
        
        .related-article-content {
            padding: 15px;
        }
        
        .related-article-title {
            font-size: 1em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 8px;
            line-height: 1.4;
        }
        
        .related-article-date {
            font-size: 0.85em;
            color: #999;
        }
        
        /* フッター */
        .article-footer { 
            margin-top: 60px; 
            padding-top: 30px; 
            border-top: 1px solid #eee; 
            text-align: center; 
        }
        
        .back-to-blog { 
            color: #007bff; 
            text-decoration: none; 
            font-weight: bold; 
            transition: color 0.3s ease;
        }
        
        .back-to-blog:hover {
            color: #0056b3;
        }
        
        /* レスポンシブ対応 */
        @media (max-width: 768px) {
            .article-title { 
                font-size: 1.5em; 
            }
            
            .article-content h2 { 
                font-size: 1.3em; 
                padding: 12px 15px;
            }
            
            .article-toc {
                padding: 15px 20px;
            }
            
            .related-articles-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header id="header">
        <div class="container">
            <button class="hamburger-menu" aria-label="メニューを開く" aria-expanded="false">
                <div class="hamburger-icon"><span></span><span></span><span></span></div>
            </button>
            <div class="logo">
                <a href="../index.html"><img src="../image/logo_v3.avif" alt="株式会社ミアキス"></a>
            </div>
            <nav class="global-nav">
                <ul>
                    <li><a href="../index.html#service">サービス</a></li>
                    <li><a href="../index.html#works">実績</a></li>
                    <li><a href="../index.html#pricing">料金プラン</a></li>
                    <li><a href="../index.html#testimonials">お客様の声</a></li>
                    <li><a href="../index.html#flow">制作の流れ</a></li>
                    <li><a href="../blog.html">ブログ</a></li>
                    <li><a href="../index.html#company">会社概要</a></li>
                    <li><a href="../index.html#contact">お問い合わせ</a></li>
                </ul>
            </nav>
            <a href="../index.html#contact" class="header-contact-button">
                <img src="../image/mail.avif" alt="お問い合わせ" class="mail-icon-img">
            </a>
        </div>
    </header>

    <main>
        <article class="blog-article section">
            <!-- ヘッダー画像 -->
            <img src="../blog/images/2025-12-08-web-estimate-5-checkpoints_header.jpg" 
                 alt="Web制作の見積もりで確認すべき5つのポイント" 
                 class="article-header-image"
                 onerror="this.style.display='none'">
            
            <div class="article-header">
                <time class="article-date" datetime="2025-12-08">2025.12.08</time>
                <h1 class="article-title">Web制作の見積もりで確認すべき5つのポイント</h1>
            </div>

            <!-- 目次（JavaScriptで自動生成） -->
            <nav class="article-toc" id="article-toc">
                <h3>📑 目次</h3>
                <ul id="toc-list">
                    <!-- JSで自動生成 -->
                </ul>
            </nav>

            <div class="article-content" id="article-content">
                <p>「Web制作の見積もりをもらったけど、どこを見れば良いのかわからない…」</p>

                <p>そんな経験、ありませんか？私自身、埼玉県戸田市でWeb制作会社を経営する中で、<strong>見積もりの「読み方」がわからずトラブルになってしまった</strong>というご相談を、これまで何度も受けてきました。</p>

                <p>実は、Web制作の見積もりには<strong>「書いてあること」と「書いてないこと」の間に大きな落とし穴がある</strong>んですよね。今日は、制作会社側の視点から「見積もりで絶対に見るべきポイント」を本音でお話しします。</p>

                <h2>見積もりでよくあるトラブル実例</h2>

                <p>まず最初に、実際にあったトラブル事例からお話しさせてください。</p>

                <p>数ヶ月前、戸田市内の製造業の社長さんから<strong>「前の制作会社とのトラブルで困っている」</strong>という相談がありました。話を聞くと、最初の見積もりは50万円だったのに、完成時には120万円の請求が来たとのこと。</p>

                <p>見積書を見せていただくと、確かに「ホームページ制作一式：50万円」とだけ書かれていました。でも、<strong>ページ数も含まれる作業内容も、追加料金の条件も何も書かれていない</strong>。これでは、制作会社側が「これは追加」「あれも追加」と言い放題になってしまいますよね。</p>

                <p>結局その会社は、追加料金を払わざるを得ず、しかも完成したサイトの質にも満足できなかったそうです。</p>

                <p>こういった悲劇を避けるために、これから紹介する5つのポイントは必ずチェックしてください。</p>

                <h2>【チェックポイント1】作業内容が具体的に書かれているか</h2>

                <p>見積書でまず確認すべきなのは、<strong>「何をしてくれるのか」が具体的に書かれているか</strong>です。</p>

                <p>よくある悪い例がこれ。</p>

                <blockquote>
                ホームページ制作一式：500,000円
                </blockquote>

                <p>これだと何をしてくれるのか全くわかりませんよね。良い見積書は、こういう風に書かれています。</p>

                <ul>
                    <li>トップページデザイン・コーディング：80,000円</li>
                    <li>下層ページデザイン・コーディング（5ページ）：150,000円</li>
                    <li>お問い合わせフォーム設置：30,000円</li>
                    <li>スマホ対応（レスポンシブデザイン）：50,000円</li>
                    <li>基本的なSEO設定：30,000円</li>
                    <li>WordPress導入・初期設定：80,000円</li>
                    <li>操作マニュアル作成：20,000円</li>
                </ul>

                <p>このように項目ごとに分かれていれば、<strong>「これは必要」「これは不要」と判断できる</strong>し、後から「実はこれは含まれていません」と言われる心配もありません。</p>

                <p>私がミアキスで見積もりを出すときは、<a href="../index.html#service">サービス内容</a>と照らし合わせながら、できるだけ細かく項目を分けるようにしています。お客様自身が納得して発注できるように、というのが一番の理由です。</p>

                <h2>【チェックポイント2】ページ数と修正回数の上限が明記されているか</h2>

                <p>次に重要なのが、<strong>ページ数と修正回数</strong>。これが書かれていないと、後から必ずモメます。</p>

                <p>さいたま市の飲食店オーナーさんから聞いた話ですが、「ホームページ制作：30万円」という見積もりで契約したところ、<strong>実際には5ページまでしか作ってもらえなかった</strong>そうです。オーナーさんは10ページくらいは作ってもらえると思っていたので、大きなギャップが生まれました。</p>

                <p>見積書には、こう書かれているべきです。</p>

                <ul>
                    <li>制作ページ数：トップページ+下層5ページ（計6ページ）</li>
                    <li>デザイン修正：各ページ2回まで</li>
                    <li>追加ページ：1ページあたり30,000円</li>
                    <li>3回目以降の修正：1回あたり10,000円</li>
                </ul>

                <p>このように<strong>「ここまでが基本料金で、ここからが追加料金」という境界線</strong>がハッキリしていれば、安心して発注できますよね。</p>

                <p>ちなみに、修正回数が「無制限」という見積もりには要注意。実際には無制限なんてありえないので、後から「さすがにこれ以上は追加料金です」と言われる可能性が高いです。</p>

                <h2>【チェックポイント3】納期とスケジュールが現実的か</h2>

                <p>3つ目のポイントは、<strong>納期とスケジュール</strong>です。</p>

                <p>「1ヶ月で完成します！」と言われて飛びついたら、実際には3ヶ月かかった…というのは、Web制作業界ではよくある話。しかも、遅れの原因が「お客様の素材提供が遅れたから」と責任転嫁されることも。</p>

                <p>良い見積書には、こういったスケジュールが書かれています。</p>

                <ul>
                    <li>ヒアリング・企画：1週間（〜12/15）</li>
                    <li>デザイン制作・修正：2週間（〜12/29）</li>
                    <li>コーディング：2週間（〜1/12）</li>
                    <li>最終確認・公開：1週間（〜1/19）</li>
                    <li><strong>※お客様からの素材提供・確認が遅れた場合、納期も延期となります</strong></li>
                </ul>

                <p>最後の「※」の部分、これすごく大事です。なぜなら、<strong>Web制作の遅延原因の8割は、お客様側の素材提供や確認の遅れ</strong>だから。</p>

                <p>私がミアキスでお受けする案件でも、スケジュール表を必ず作成して、<strong>「いつまでに何を用意していただく必要があるか」</strong>を明示しています。お互いの責任範囲がハッキリしていれば、無用なトラブルは避けられます。</p>

                <h2>【チェックポイント4】保守・運用費用が別になっているか</h2>

                <p>4つ目は<strong>保守・運用費用</strong>。これ、意外と見落とされがちなんですよね。</p>

                <p>戸田市内の士業事務所の先生から、こんな相談がありました。「ホームページ制作50万円という見積もりで契約したのに、完成後に毎月3万円の保守費用を請求された」と。</p>

                <p>見積書を見ると、確かに小さい文字で「※保守費用は別途」と書かれていました。でも、具体的な金額は書かれていない。<strong>これでは後から「言った・言わない」になってしまいます。</strong></p>

                <p>見積書には、こう明記されているべきです。</p>

                <ul>
                    <li>制作費用（初期費用）：500,000円</li>
                    <li>保守費用（月額）：10,000円〜</li>
                    <li>保守内容：サーバー管理、ドメイン管理、WordPress更新、月1回の軽微な修正対応</li>
                    <li>保守契約は任意（契約しない場合でも制作可能）</li>
                </ul>

                <p>特に重要なのが<strong>「保守契約は任意」という点</strong>。中には、保守契約必須で見積もりを出す制作会社もありますが、それだと将来的に他社に乗り換えたくなったときに困ります。</p>

                <p>ミアキスでは、保守契約はあくまで任意。お客様が自社で管理できるなら、それで全く問題ありませんし、<a href="../index.html#pricing">保守が必要な場合のプラン</a>も明確に提示しています。</p>

                <h2>【チェックポイント5】著作権・所有権の扱いが明記されているか</h2>

                <p>最後、5つ目のポイントは<strong>著作権と所有権</strong>。これ、本当に重要なのに、多くの人が見落としています。</p>

                <p>川口市の美容室オーナーさんから聞いた恐ろしい話ですが、前の制作会社との契約で「著作権は制作会社に帰属」となっていたため、<strong>別の会社にリニューアルを依頼しようとしたら、元のデザインを一切使えなかった</strong>そうです。結局、ゼロから作り直すことになり、余計な費用がかかってしまいました。</p>

                <p>見積書（または契約書）には、こう書かれているべきです。</p>

                <ul>
                    <li>デザインの著作権：納品・入金完了後、お客様に譲渡</li>
                    <li>サイトデータの所有権：お客様</li>
                    <li>使用している写真・イラスト素材：商用利用可能なものを使用</li>
                    <li>ソースコードの著作権：お客様に譲渡（ただしWordPressやプラグインのライセンスは各提供元に準拠）</li>
                </ul>

                <p>こうなっていれば、将来的に他社に乗り換えたくなったときも、リニューアルしたいときも、<strong>自由に選択できます</strong>。</p>

                <p>ちなみに、「著作権は制作会社に帰属」と書かれている見積もりは、正直おすすめしません。将来的に自由度が制限されるリスクが高すぎます。</p>

                <h2>【Q&A】見積もりに関するよくある質問</h2>

                <p>ここまでの説明を読んで、いくつか疑問が浮かんだ方もいるかもしれません。よくある質問にお答えします。</p>

                <h3>Q. 見積もりが安すぎる会社は避けたほうが良い？</h3>

                <p>A. 一概には言えませんが、<strong>相場より極端に安い場合は要注意</strong>です。</p>

                <p>埼玉県内の相場で言えば、コーポレートサイト（5〜10ページ程度）で30万〜80万円くらいが一般的。もし10万円以下の見積もりだった場合、何かが省略されている可能性が高いです。たとえば、スマホ対応が含まれていない、SEO設定が含まれていない、テンプレートデザインで独自性がない、など。</p>

                <p>「安かろう悪かろう」とは限りませんが、<strong>なぜその価格なのか？何が含まれているのか？</strong>をしっかり確認してください。</p>

                <h3>Q. 複数社から見積もりをもらったけど、比較が難しい…</h3>

                <p>A. まさにこの記事で紹介した5つのポイントを、表にして比較してみてください。</p>

                <p>たとえばこんな感じ。</p>

                <ul>
                    <li>作業内容の詳細度：A社◎ / B社△ / C社◯</li>
                    <li>ページ数・修正回数の明記：A社◎ / B社◎ / C社△</li>
                    <li>納期の現実性：A社◯ / B社△ / C社◎</li>
                    <li>保守費用の透明性：A社◎ / B社× / C社◯</li>
                    <li>著作権の扱い：A社◎ / B社△ / C社◎</li>
                </ul>

                <p>こうやって並べてみると、<strong>単純に「安い・高い」だけでは判断できない</strong>ことがわかると思います。価格だけで選んで後悔するより、総合的に判断することをおすすめします。</p>

                <h3>Q. 見積もりをもらった後、値引き交渉はしても良い？</h3>

                <p>A. もちろんOKです。ただし、<strong>やり方次第</strong>です。</p>

                <p>「もっと安くして」だけだと、制作会社側も困ってしまいます。そうではなくて、「この項目は不要なので外せますか？」「ページ数を減らしたらいくらになりますか？」という風に、<strong>具体的な調整案を提案</strong>してみてください。</p>

                <p>私たちミアキスでも、お客様の予算に合わせて<strong>「ここは削れます」「ここは絶対に必要です」</strong>と相談しながら調整することはよくあります。お互いに納得できる着地点を見つけるのが、良い関係の第一歩だと思います。</p>

                <h2>まとめ：見積もりは「契約書の一部」と考える</h2>

                <p>今日お話しした5つのポイント、もう一度まとめます。</p>

                <ul>
                    <li><strong>作業内容が具体的に書かれているか</strong>（「一式」はNG）</li>
                    <li><strong>ページ数と修正回数の上限が明記されているか</strong>（追加料金の境界線）</li>
                    <li><strong>納期とスケジュールが現実的か</strong>（お互いの責任範囲を明確に）</li>
                    <li><strong>保守・運用費用が別になっているか</strong>（月額費用の有無と内容）</li>
                    <li><strong>著作権・所有権の扱いが明記されているか</strong>（将来の自由度）</li>
                </ul>

                <p>見積もりは、ただの「金額を示す紙」ではありません。<strong>これから始まるプロジェクトの「約束事」を書いた、契約書の一部</strong>なんです。</p>

                <p>だからこそ、細かい部分までしっかり確認して、わからないことは遠慮せず質問してください。良い制作会社なら、喜んで答えてくれるはずです。もし「そんな細かいこと聞かれても…」みたいな反応をされたら、その会社との取引は再考したほうが良いかもしれません。</p>

                <p>埼玉県戸田市を拠点にWeb制作を続けてきた中で、<strong>「最初の見積もり段階でどれだけ丁寧に説明できるか」が、その後のプロジェクト成功を左右する</strong>と実感しています。</p>

                <p>もしあなたが今、Web制作の見積もりで悩んでいるなら、ぜひこの5つのポイントをチェックしてみてください。そして、納得できる説明をしてくれる制作会社を選んでくださいね。</p>
            </div>

            <div class="article-cta">
                <h3>Web制作・保守運用のご相談はこちら</h3>
                <p>埼玉県戸田市を拠点に、ホームページ制作から保守運用まで一貫対応。<br>まずはお気軽にご相談ください。</p>
                <a href="../index.html#contact" class="btn">無料相談はこちら</a>
            </div>

            <!-- 関連記事セクション（JavaScriptで自動生成） -->
            <div class="related-articles" id="related-articles">
                <h3>📚 関連記事</h3>
                <div class="related-articles-grid" id="related-articles-grid">
                    <!-- JSで自動生成 -->
                </div>
            </div>

            <div class="article-footer">
                <a href="../blog.html" class="back-to-blog">← ブログ一覧に戻る</a>
            </div>
        </article>
    </main>

    <footer id="footer">
        <div class="container">
            <p class="footer-links">
                <a href="../tokusho.html" class="footer-link">特定商取引法に基づく表記</a> | <a href="../privacy.html" class="footer-link">プライバシーポリシー</a>
            </p>
            <p class="footer-copyright">&copy; 2025 Miakiss Inc. All Rights Reserved.</p>
        </div>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', function () {
        // ===== ハンバーガーメニュー =====
        const hamburgerMenu = document.querySelector('.hamburger-menu');
        const globalNavUl = document.querySelector('#header .global-nav ul');
        if (hamburgerMenu) {
            hamburgerMenu.addEventListener('click', function () {
                globalNavUl.classList.toggle('active');
                hamburgerMenu.classList.toggle('active');
            });
        }

        // ===== 目次の自動生成 =====
        function generateTableOfContents() {
            const content = document.getElementById('article-content');
            const tocList = document.getElementById('toc-list');
            const headings = content.querySelectorAll('h2, h3');
            
            if (headings.length === 0) {
                // 見出しがない場合は目次を非表示
                document.getElementById('article-toc').style.display = 'none';
                return;
            }
            
            headings.forEach((heading, index) => {
                // 見出しにIDを付与
                const id = `heading-${index}`;
                heading.id = id;
                
                // 目次項目を作成
                const li = document.createElement('li');
                const a = document.createElement('a');
                a.href = `#${id}`;
                a.textContent = heading.textContent;
                
                // h3の場合はインデント
                if (heading.tagName === 'H3') {
                    li.style.paddingLeft = '40px';
                    li.style.fontSize = '0.9em';
                }
                
                a.addEventListener('click', function(e) {
                    e.preventDefault();
                    heading.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    // 固定ヘッダー分のオフセットを調整
                    window.scrollBy(0, -100);
                });
                
                li.appendChild(a);
                tocList.appendChild(li);
            });
        }
        
        // ===== スクロール追従（現在位置のハイライト） =====
        function highlightCurrentSection() {
            const headings = document.querySelectorAll('#article-content h2, #article-content h3');
            const tocLinks = document.querySelectorAll('#toc-list a');
            
            let currentIndex = -1;
            
            headings.forEach((heading, index) => {
                const rect = heading.getBoundingClientRect();
                if (rect.top <= 150) {
                    currentIndex = index;
                }
            });
            
            tocLinks.forEach((link, index) => {
                const li = link.parentElement;
                if (index === currentIndex) {
                    li.classList.add('active');
                } else {
                    li.classList.remove('active');
                }
            });
        }
        
        // ===== 関連記事の取得・表示 =====
        async function loadRelatedArticles() {
            try {
                // published_articles.jsonを読み込み
                const response = await fetch('../blog/published_articles.json');
                const data = await response.json();
                
                // 現在の記事を除外
                const currentSlug = '2025-12-08-web-estimate-5-checkpoints';
                const otherArticles = data.articles.filter(article => article.slug !== currentSlug);
                
                // ランダムに3件選択
                const shuffled = otherArticles.sort(() => 0.5 - Math.random());
                const selectedArticles = shuffled.slice(0, 3);
                
                // 関連記事を表示
                const grid = document.getElementById('related-articles-grid');
                grid.innerHTML = '';
                
                selectedArticles.forEach(article => {
                    const item = document.createElement('div');
                    item.className = 'related-article-item';
                    
                    const thumbnailUrl = `../blog/images/${article.slug}_thumbnail.jpg`;
                    const fallbackUrl = '../image/ogp.png';
                    
                    item.innerHTML = `
                        <a href="${article.slug}.html">
                            <img src="${thumbnailUrl}" 
                                 alt="${article.title}" 
                                 class="related-article-thumbnail"
                                 onerror="this.src='${fallbackUrl}'">
                            <div class="related-article-content">
                                <div class="related-article-title">${article.title}</div>
                                <div class="related-article-date">${formatDate(article.date)}</div>
                            </div>
                        </a>
                    `;
                    
                    grid.appendChild(item);
                });
                
            } catch (error) {
                console.error('関連記事の読み込みに失敗:', error);
                // エラー時は関連記事セクションを非表示
                document.getElementById('related-articles').style.display = 'none';
            }
        }
        
        // 日付フォーマット
        function formatDate(dateString) {
            const date = new Date(dateString);
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${year}.${month}.${day}`;
        }
        
        // ===== 初期化 =====
        generateTableOfContents();
        loadRelatedArticles();
        
        // スクロールイベント
        let ticking = false;
        window.addEventListener('scroll', function() {
            if (!ticking) {
                window.requestAnimationFrame(function() {
                    highlightCurrentSection();
                    ticking = false;
                });
                ticking = true;
            }
        });
    });
    </script>
</body>
</html>

