# ブログ記事表示のトラブルシューティング

## ✅ 2025年12月更新：ローカルファイルでも動作するように改善しました

**現在は、ローカルファイルシステムで直接HTMLファイルを開いても、ブログ記事が正常に表示されます。**

`blog/published_articles.js` ファイルを使用することで、CORSの制限を回避しています。

## 記事が表示されない場合の確認事項

### 1. ブラウザのキャッシュをクリア

ブラウザのキャッシュが原因で古いファイルが読み込まれている可能性があります。

**強制リロード:**
- Windows/Linux: `Ctrl + Shift + R`
- Mac: `Cmd + Shift + R`

### 2. published_articles.js ファイルの確認

`blog/published_articles.js` ファイルが存在し、最新の状態であることを確認してください。

**ファイルの再生成:**
```bash
cd /Users/game_gct/Miakiss_Web
python3 scripts/sync_blog_data.py
```

## （旧）ローカルサーバーを使用する方法

ローカルファイルでも動作するようになりましたが、より本番環境に近い状態でテストしたい場合は、以下の方法でローカルサーバーを起動できます。

### 解決方法

#### 方法1: Pythonの簡易サーバーを使用（推奨）

1. ターミナルを開く
2. プロジェクトのルートディレクトリに移動
3. 以下のコマンドを実行：

```bash
python3 test_server.py
```

4. ブラウザで `http://localhost:8000` にアクセス

#### 方法2: Pythonの標準HTTPサーバーを使用

```bash
python3 -m http.server 8000
```

その後、ブラウザで `http://localhost:8000` にアクセス

#### 方法3: Node.jsのhttp-serverを使用

```bash
# インストール（初回のみ）
npm install -g http-server

# サーバー起動
http-server -p 8000
```

その後、ブラウザで `http://localhost:8000` にアクセス

#### 方法4: VS Codeの Live Server拡張機能を使用

1. VS Codeで拡張機能「Live Server」をインストール
2. HTMLファイルを右クリック
3. 「Open with Live Server」を選択

## デバッグ方法

### ブラウザのコンソールを確認

1. ブラウザで`F12`キーを押す（Macは`Cmd + Option + I`）
2. 「Console」タブを開く
3. エラーメッセージを確認

### 期待されるコンソールメッセージ

正常に動作している場合：
```
3件のブログ記事を読み込みました
```

エラーが発生している場合：
```
⚠️ ローカルファイルシステムで開いています。ブログ記事の読み込みが失敗する可能性があります。
```

## 確認ポイント

1. **JSONファイルの存在確認**
   - `blog/published_articles.json` が存在するか確認

2. **ファイルパスの確認**
   - `index.html` と `blog.html` がプロジェクトのルートディレクトリにあるか確認

3. **ブラウザのキャッシュをクリア**
   - `Ctrl + Shift + R`（Macは`Cmd + Shift + R`）で強制リロード

## 本番環境での注意事項

本番環境（実際のWebサーバー）では、以下を確認してください：

1. **MIMEタイプの設定**
   - JSONファイルが `application/json` として配信されているか確認

2. **ファイルのアクセス権限**
   - `blog/published_articles.json` に読み取り権限があるか確認

3. **HTTPSの場合**
   - 混在コンテンツ（Mixed Content）エラーがないか確認

## よくある質問

**Q: ローカルで開いても記事が表示されないのですが？**

A: ローカルサーバーを起動してください。`file://` プロトコルでは、セキュリティ上の理由でJSONファイルの読み込みができません。

**Q: サーバーで公開しても記事が表示されません**

A: ブラウザのコンソールを確認してください。404エラーが出ている場合は、JSONファイルのパスが間違っている可能性があります。

**Q: 一部の記事だけ表示されません**

A: `blog/published_articles.json` の形式を確認してください。すべての記事に必要なフィールド（`slug`, `title`, `date`, `description`）が含まれているか確認してください。

